(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,a){e.exports=a(218)},136:function(e,t,a){},218:function(e,t,a){"use strict";a.r(t);var r=a(1),s=a.n(r),n=a(11),c=a.n(n),i=a(7),l=a.n(i),o=a(20),u=a(30),p=a(111),d=(a(136),a(8)),y="quasiTracks/auth/setAccessToken",f={setAccessToken:function(e){return{type:y,payload:{accessToken:e}}}},m={accessToken:null},S=a(12),E=a.n(S),T=a(19),A=a(43),h=function(e,t,a){var r=l.a.reduce(a,function(a,r){return a+Math.pow(e[r]-t[r],2)},0);return Number(Math.sqrt(r).toFixed(3))},b=function(e){return e.spotify.tracks},_=function(e){return e.spotify.selectedTracks},v=function(e){return e.spotify.parameters},R=Object(A.a)([v],function(e){var t=[];return l.a.each(e,function(e,a){if(e.active)return t.push(a)}),t}),g=Object(A.a)([v],function(e){var t={};return l.a.each(e,function(e,a){var r=e.value;t[a]=r}),t}),C=Object(A.a)([b,function(e){return e.spotify.audioFeatures},g,R],function(e,t,a,r){return l.a.map(e,function(e){var s=l.a.get(t,e.id,null);return Object(d.a)({},e,{score:s?h(s,a,r):null})})}),k=(Object(A.a)([function(e){return e.spotify.currentUserPlaylists}],function(e){return l.a.map(e,function(e){return Object(d.a)({},e,{label:e.name,value:e.id})})}),Object(A.a)([b,_],function(e,t){return!l.a.isEmpty(t)&&l.a.some(e,function(e){var a=e.id;return l.a.has(t,a)})}),Object(A.a)([b,_],function(e,t){return l.a.size(e)===l.a.size(t)&&l.a.every(e,function(e){var a=e.id;return l.a.has(t,a)})})),L=50,O={UNAUTHORIZED:"quasiTracks/spotify/unauthorized",GLOBAL_CHECKBOX_SELECTED:"quasiTracks/spotify/globalCheckboxSelected",SELECT_ARTIST:"quasiTracks/spotify/selectArtist",SELECT_ALBUM:"quasiTracks/spotify/selectAlbum",SELECT_PUBLIC_PLAYLIST:"quasiTracks/spotify/selectPublicPlaylist",TOGGLE_TRACK_SELECTED:"quasiTracks/spotify/toggleTrackSelected",TOGGLE_IS_ACTIVE:"quasiTracks/spotify/toggleIsActive",SET_REFERENCE_VALUE:"quasiTracks/spotify/setReferenceValue",SELECT_CURRENT_USER_PLAYLIST:"quasiTracks/spotify/selectCurrentUserPlaylist",LOADED_ARTIST_ALBUMS:"quasiTracks/spotify/loadedArtistAlbums",RESET_FEATURES_TO_REFERENCE_SONG:"quasiTracks/spotify/resetFeaturesToReferenceSong",START_PROCESSING:"quasiTracks/spotify/startProcessing",FINISHED_PROCESSING:"quasiTracks/spotify/finishedProcessing",LOAD_ALBUM_TRACKS:"quasiTracks/spotify/loadAlbumTracks",LOAD_PLAYLIST_TRACKS:"quasiTracks/spotify/loadPlaylistTracks",LOADED_TRACK_AUDIO_FEATURES:"quasiTracks/spotify/loadedTrackAudioFeatures",LOAD_ARTIST_ALBUMS:"quasiTracks/spotify/loadArtistAlbums",LOAD_TRACK_AUDIO_FEATURES:"quasiTracks/spotify/loadAudioTrackFeatures",LOAD_ALBUM:"quasiTracks/spotify/loadAlbum",SELECT_TRACKS:"quasiTracks/spotify/selectTracks",GET_CURRENT_USER_REQUEST:"quasiTracks/spotify/getCurrentUserRequest",GET_CURRENT_USER_SUCCESS:"quasiTracks/spotify/getCurrentUserSuccess",GET_CURRENT_USER_FAILURE:"quasiTracks/spotify/getCurrentUserFailure",GET_CURRENT_USERS_PLAYLISTS_REQUEST:"quasiTracks/spotify/getCurrentUsersPlaylistsRequest",GET_CURRENT_USERS_PLAYLISTS_SUCCESS:"quasiTracks/spotify/getCurrentUsersPlaylistsSuccess",GET_CURRENT_USERS_PLAYLISTS_FAILURE:"quasiTracks/spotify/getCurrentUsersPlaylistsFailure",SEARCH_FOR_TRACKS_REQUEST:"quasiTracks/spotify/searchForTracksRequest",SEARCH_FOR_TRACKS_SUCCESS:"quasiTracks/spotify/searchForTracksSuccess",SEARCH_FOR_TRACKS_FAILURE:"quasiTracks/spotify/searchForTracksFailure",SEARCH_FOR_ARTISTS_REQUEST:"quasiTracks/spotify/searchForArtistsRequest",SEARCH_FOR_ARTISTS_SUCCESS:"quasiTracks/spotify/searchForArtistsSuccess",SEARCH_FOR_ARTISTS_FAILURE:"quasiTracks/spotify/searchForArtistsFailure",SEARCH_FOR_ALBUMS_REQUEST:"quasiTracks/spotify/searchForAlbumsRequest",SEARCH_FOR_ALBUMS_SUCCESS:"quasiTracks/spotify/searchForAlbumsSuccess",SEARCH_FOR_ALBUMS_FAILURE:"quasiTracks/spotify/searchForAlbumsFailure",SEARCH_FOR_PUBLIC_PLAYLISTS_REQUEST:"quasiTracks/spotify/searchForPublicPlaylistsRequest",SEARCH_FOR_PUBLIC_PLAYLISTS_SUCCESS:"quasiTracks/spotify/searchForPublicPlaylistsSuccess",SEARCH_FOR_PUBLIC_PLAYLISTS_FAILURE:"quasiTracks/spotify/searchForPublicPlaylistsFailure",START_PLAYING_TRACK_REQUEST:"quasiTracks/spotify/startPlayingTrackRequest",START_PLAYING_TRACK_SUCCESS:"quasiTracks/spotify/startPlayingTrackSuccess",START_PLAYING_TRACK_FAILURE:"quasiTracks/spotify/startPlayingTrackFailure",CREATE_PLAYLIST_REQUEST:"quasiTracks/spotify/createPlaylistRequest",CREATE_PLAYLIST_SUCCESS:"quasiTracks/spotify/createPlaylistSuccess",CREATE_PLAYLIST_FAILURE:"quasiTracks/spotify/createPlaylistFailure",ADD_TRACKS_TO_PLAYLIST_REQUEST:"quasiTracks/spotify/addTracksToPlaylistRequest",ADD_TRACKS_TO_PLAYLIST_SUCCESS:"quasiTracks/spotify/addTracksToPlaylistSuccess",ADD_TRACKS_TO_PLAYLIST_FAILURE:"quasiTracks/spotify/addTracksToPlaylistFailure"};function P(e,t,a){return U.apply(this,arguments)}function U(){return(U=Object(T.a)(E.a.mark(function e(t,a,r){var s,n,c;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getUserPlaylists({limit:L,offset:r*L});case 2:if(s=e.sent,n=s.items,c=s.next,l.a.each(n,function(e){return a.push(e)}),!c){e.next=9;break}return e.next=9,P(t,a,r+1);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var I={toggleIsActive:function(e){return{type:O.TOGGLE_IS_ACTIVE,payload:{id:e}}},toggleTrackSelected:function(e){return{type:O.TOGGLE_TRACK_SELECTED,payload:{id:e}}},globalCheckboxSelected:function(){return function(e,t){var a=t(),r=k(a);e({type:O.GLOBAL_CHECKBOX_SELECTED,payload:{shouldSelectAll:!r}})}},setReferenceValue:function(e,t){return{type:O.SET_REFERENCE_VALUE,payload:{id:e,value:t}}},resetFeaturesToReferenceSong:function(e){return{type:O.RESET_FEATURES_TO_REFERENCE_SONG}},startProcessing:function(e,t){return{type:O.START_PROCESSING,payload:{artistId:e,parameters:t}}},finishedProcessing:function(){return{type:O.FINISHED_PROCESSING}},selectArtist:function(e){return{type:O.SELECT_ARTIST,payload:{artist:e}}},selectAlbum:function(e){return{type:O.SELECT_ALBUM,payload:{album:e}}},selectPublicPlaylist:function(e){return{type:O.SELECT_PUBLIC_PLAYLIST,payload:{playlist:e}}},selectCurrentUserPlaylist:function(e){return{type:O.SELECT_CURRENT_USER_PLAYLIST,payload:{playlist:e}}},getCurrentUser:function(){return function(){var e=Object(T.a)(E.a.mark(function e(t,a){var r,s,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a(),s=r.spotify.spotifyApi,e.prev=1,t({type:O.GET_CURRENT_USER_REQUEST}),e.next=5,s.getMe();case 5:n=e.sent,t({type:O.GET_CURRENT_USER_SUCCESS,payload:{currentUser:n}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:O.GET_CURRENT_USER_FAILURE,payload:{statusCode:e.t0.status}});case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t,a){return e.apply(this,arguments)}}()},getCurrentUsersPlaylists:function(){return function(){var e=Object(T.a)(E.a.mark(function e(t,a){var r,s,n,c,i,o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a(),s=r.spotify,n=s.spotifyApi,c=s.currentUser,e.prev=1,t({type:O.GET_CURRENT_USERS_PLAYLISTS_REQUEST}),e.next=5,P(n,[],0);case 5:i=e.sent,o=l.a.filter(i,["owner.id",c.id]),t({type:O.GET_CURRENT_USERS_PLAYLISTS_SUCCESS,payload:{playlists:o}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:O.GET_CURRENT_USERS_PLAYLISTS_FAILURE,payload:{statusCode:e.t0.status}});case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t,a){return e.apply(this,arguments)}}()},searchForAlbums:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:50,offset:0};return function(){var a=Object(T.a)(E.a.mark(function a(r,s){var n,c,i,l;return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=s(),c=n.spotify.spotifyApi,a.prev=1,r({type:O.SEARCH_FOR_ALBUMS_REQUEST}),a.next=5,c.searchAlbums(e,t);case 5:i=a.sent,l=i.albums.items,r({type:O.SEARCH_FOR_ALBUMS_SUCCESS,payload:{albums:l,query:e,pagination:t}}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),r({type:O.SEARCH_FOR_ALBUMS_FAILURE,payload:{e:a.t0,statusCode:a.t0.status}});case 13:case"end":return a.stop()}},a,null,[[1,10]])}));return function(e,t){return a.apply(this,arguments)}}()},searchForTracks:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:10,offset:0};return function(){var a=Object(T.a)(E.a.mark(function a(r,s){var n,c,i,l;return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=s(),c=n.spotify.spotifyApi,a.prev=1,r({type:O.SEARCH_FOR_TRACKS_REQUEST}),a.next=5,c.searchTracks(e,t);case 5:i=a.sent,l=i.tracks.items,r({type:O.SEARCH_FOR_TRACKS_SUCCESS,payload:{tracks:l,query:e,pagination:t}}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),r({type:O.SEARCH_FOR_TRACKS_FAILURE,payload:{statusCode:a.t0.status}});case 13:case"end":return a.stop()}},a,null,[[1,10]])}));return function(e,t){return a.apply(this,arguments)}}()},searchForArtists:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:50,offset:0};return function(){var a=Object(T.a)(E.a.mark(function a(r,s){var n,c,i,l;return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=s(),c=n.spotify.spotifyApi,a.prev=1,r({type:O.SEARCH_FOR_ARTISTS_REQUEST}),a.next=5,c.searchArtists(e,t);case 5:i=a.sent,l=i.artists.items,r({type:O.SEARCH_FOR_ARTISTS_SUCCESS,payload:{artists:l,query:e,pagination:t}}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),r({type:O.SEARCH_FOR_ARTISTS_FAILURE,payload:{statusCode:a.t0.status}});case 13:case"end":return a.stop()}},a,null,[[1,10]])}));return function(e,t){return a.apply(this,arguments)}}()},searchForPublicPlaylists:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:50,offset:0};return function(){var a=Object(T.a)(E.a.mark(function a(r,s){var n,c,i,l;return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=s(),c=n.spotify.spotifyApi,a.prev=1,r({type:O.SEARCH_FOR_PUBLIC_PLAYLISTS_REQUEST}),a.next=5,c.searchPlaylists(e,t);case 5:i=a.sent,l=i.playlists.items,r({type:O.SEARCH_FOR_PUBLIC_PLAYLISTS_SUCCESS,payload:{playlists:l,query:e,pagination:t}}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),r({type:O.SEARCH_FOR_PUBLIC_PLAYLISTS_FAILURE,payload:{e:a.t0,statusCode:a.t0.status}});case 13:case"end":return a.stop()}},a,null,[[1,10]])}));return function(e,t){return a.apply(this,arguments)}}()},startPlayingTrack:function(e){return function(){var t=Object(T.a)(E.a.mark(function t(a,r){var s,n,c;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=r(),n=s.spotify.spotifyApi,t.next=3,n.getMyCurrentPlaybackState();case 3:if(t.sent){t.next=7;break}return a({type:O.START_PLAYING_TRACK_FAILURE,payload:{message:"No track is currently playing. This feature only works when there is a track currently playing on Spotify."}}),t.abrupt("return");case 7:return t.prev=7,a({type:O.START_PLAYING_TRACK_REQUEST}),t.next=11,n.play({uris:[e]});case 11:c=t.sent,console.log({result:c}),a({type:O.START_PLAYING_TRACK_SUCCESS,payload:{}}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(7),a({type:O.START_PLAYING_TRACK_FAILURE,payload:{e:t.t0,statusCode:t.t0.status}});case 19:case"end":return t.stop()}},t,null,[[7,16]])}));return function(e,a){return t.apply(this,arguments)}}()},createNewPlaylist:function(e){return function(){var t=Object(T.a)(E.a.mark(function t(a,r){var s,n,c,i,l;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r(),n=s.spotify,c=n.spotifyApi,i=n.currentUser,window.confirm('Are you sure you want to create a new playlist titled: "'.concat(e,'"?'))){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,a({type:O.CREATE_PLAYLIST_REQUEST}),t.next=7,c.createPlaylist(i.id,{name:e,public:!1});case 7:l=t.sent,a({type:O.CREATE_PLAYLIST_SUCCESS,payload:{playlist:l}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),a({type:O.CREATE_PLAYLIST_FAILURE,payload:{e:t.t0,statusCode:t.t0.status}});case 14:case"end":return t.stop()}},t,null,[[3,11]])}));return function(e,a){return t.apply(this,arguments)}}()},addTracksToPlaylist:function(e,t){return function(){var a=Object(T.a)(E.a.mark(function a(r,s){var n,c;return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=s(),c=n.spotify.spotifyApi,a.prev=1,r({type:O.ADD_TRACKS_TO_PLAYLIST_REQUEST}),a.next=5,c.addTracksToPlaylist(e,t);case 5:r({type:O.ADD_TRACKS_TO_PLAYLIST_SUCCESS,payload:{playlistId:e,trackUris:t}}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),r({type:O.ADD_TRACKS_TO_PLAYLIST_FAILURE,payload:{e:a.t0,statusCode:a.t0.status}});case 11:case"end":return a.stop()}},a,null,[[1,8]])}));return function(e,t){return a.apply(this,arguments)}}()}},w={isLoadingArtists:!1,isLoadingAlbums:!1,isLoadingPublicPlaylists:!1},F=a(53),j=a(112),N=a.n(j),x=a(113),D=a.n(x),q=function(e){return 1!==(l.a.isObjectLike(e)?l.a.size(e):e)?"s":""},H=a(54),B=a.n(H),M={min:0,max:1,step:.1},Y="A confidence measure from 0.0 to 1.0 of whether the track is acoustic. 1.0 represents high confidence the track is acoustic.",G="Danceability describes how suitable a track is for dancing based on a combination of musical elements including tempo, rhythm stability, beat strength, and overall regularity. A value of 0.0 is least danceable and 1.0 is most danceable.",K="Energy is a measure from 0.0 to 1.0 and represents a perceptual measure of intensity and activity. Typically, energetic tracks feel fast, loud, and noisy. For example, death metal has high energy, while a Bach prelude scores low on the scale. Perceptual features contributing to this attribute include dynamic range, perceived loudness, timbre, onset rate, and general entropy.",Q="Predicts whether a track contains no vocals. \u201cOoh\u201d and \u201caah\u201d sounds are treated as instrumental in this context. Rap or spoken word tracks are clearly \u201cvocal\u201d. The closer the instrumentalness value is to 1.0, the greater likelihood the track contains no vocal content. Values above 0.5 are intended to represent instrumental tracks, but confidence is higher as the value approaches 1.0.",z="Detects the presence of an audience in the recording. Higher liveness values represent an increased probability that the track was performed live. A value above 0.8 provides strong likelihood that the track is live.",V="Speechiness detects the presence of spoken words in a track. The more exclusively speech-like the recording (e.g. talk show, audio book, poetry), the closer to 1.0 the attribute value. Values above 0.66 describe tracks that are probably made entirely of spoken words. Values between 0.33 and 0.66 describe tracks that may contain both music and speech, either in sections or layered, including such cases as rap music. Values below 0.33 most likely represent music and other non-speech-like tracks.",X="A measure from 0.0 to 1.0 describing the musical positiveness conveyed by a track. Tracks with high valence sound more positive (e.g. happy, cheerful, euphoric), while tracks with low valence sound more negative (e.g. sad, depressed, angry).",Z={searchedArtists:[],searchedAlbums:[],selectedTracks:{},tracks:[],audioFeatures:{}},W={spotifyApi:new D.a,queue:new N.a({concurrency:5,intervalCap:10,interval:800}),isProcessing:!1,searchedText:null,selectedPlaylist:null,currentUserPlaylists:[],searchedArtists:[],searchedAlbums:[],searchedPlaylists:[],tracks:[],selectedTracks:{},audioFeatures:{},parameters:{acousticness:Object(d.a)({},M,{description:Y,property:"acousticness",label:"Acousticness",value:.5,active:!0}),danceability:Object(d.a)({},M,{description:G,property:"danceability",label:"Danceability",value:.5,active:!0}),energy:Object(d.a)({},M,{description:K,property:"energy",label:"Energy",value:.5,active:!0}),instrumentalness:Object(d.a)({},M,{description:Q,property:"instrumentalness",label:"Instrumentalness",value:.5,active:!0}),liveness:Object(d.a)({},M,{description:z,property:"liveness",label:"Liveness",value:.5,active:!0}),speechiness:Object(d.a)({},M,{description:V,property:"speechiness",label:"Speechiness",value:.5,active:!0}),valence:Object(d.a)({},M,{description:X,property:"valence",label:"Valence",value:.5,active:!0})},parametersAreDirty:!1};function J(e){return Object(d.a)({},e,{label:e.name,value:e.id})}var $=Object(u.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:var a=t.payload.accessToken;return Object(d.a)({},e,{accessToken:a});default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;switch((arguments.length>1?arguments[1]:void 0).type){case O.SEARCH_FOR_ARTISTS_REQUEST:return Object(d.a)({},e,{isLoadingArtists:!0});case O.SEARCH_FOR_ARTISTS_FAILURE:case O.SEARCH_FOR_ARTISTS_SUCCESS:return Object(d.a)({},e,{isLoadingArtists:!1});case O.SEARCH_FOR_ALBUMS_REQUEST:return Object(d.a)({},e,{isLoadingAlbums:!0});case O.SEARCH_FOR_ALBUMS_FAILURE:case O.SEARCH_FOR_ALBUMS_SUCCESS:return Object(d.a)({},e,{isLoadingAlbums:!1});case O.SEARCH_FOR_PUBLIC_PLAYLISTS_REQUEST:return Object(d.a)({},e,{isLoadingPublicPlaylists:!0});case O.SEARCH_FOR_PUBLIC_PLAYLISTS_SUCCESS:case O.SEARCH_FOR_PUBLIC_PLAYLISTS_FAILURE:return Object(d.a)({},e,{isLoadingPublicPlaylists:!1});default:return e}},spotify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:var a=t.payload.accessToken;return e.spotifyApi.setAccessToken(a),e;case O.GET_CURRENT_USER_SUCCESS:var r=t.payload.currentUser;return Object(d.a)({},e,{currentUser:r});case O.TOGGLE_TRACK_SELECTED:var n=t.payload.id,c=Object(d.a)({},e.selectedTracks);return l.a.has(c,n)?delete c[n]:c[n]=n,Object(d.a)({},e,{selectedTracks:c});case O.GLOBAL_CHECKBOX_SELECTED:var i=t.payload.shouldSelectAll,o={};return i&&l.a.each(e.tracks,function(e){var t=e.id;o[t]=t}),Object(d.a)({},e,{selectedTracks:o});case O.SELECT_CURRENT_USER_PLAYLIST:var u=t.payload.playlist;return Object(d.a)({},e,{selectedPlaylist:u});case O.CREATE_PLAYLIST_SUCCESS:var p=t.payload.playlist;return Object(d.a)({},e,{currentUserPlaylists:e.currentUserPlaylists.concat(J(p)),selectedPlaylist:J(p)});case O.GET_CURRENT_USERS_PLAYLISTS_SUCCESS:var f=t.payload.playlists;return Object(d.a)({},e,{currentUserPlaylists:l.a.map(l.a.sortBy(f,function(e){var t=e.name;return l.a.toLower(t)}),J)});case O.SEARCH_FOR_ARTISTS_SUCCESS:var m=t.payload.artists;return Object(d.a)({},e,{searchedArtists:l.a.map(m,function(e){return{followers:e.followers,id:e.id,images:e.images,name:e.name,popularity:e.popularity}})});case O.SEARCH_FOR_ALBUMS_SUCCESS:var S=t.payload.albums;return Object(d.a)({},e,{searchedAlbums:l.a.map(S,function(e){var t=e.id,a=e.artists,r=e.href,s=e.name,n=e.release_date,c=e.total_tracks;return{id:t,artist:l.a.size(a)>0?a[0]:null,href:r,name:s,releaseDate:n,totalTracks:c}})});case O.SEARCH_FOR_PUBLIC_PLAYLISTS_SUCCESS:var E=t.payload.playlists;return Object(d.a)({},e,{searchedPlaylists:l.a.map(E,function(e){var t=e.id,a=e.uri,r=e.href,s=e.name,n=e.owner,c=e.tracks;return{id:t,uri:a,owner:n,href:r,name:s,totalTracks:c?c.total:null}})});case O.SELECT_ARTIST:var T=t.payload.artist;return Object(d.a)({},e,Z,{searchedText:s.a.createElement("span",null,"Selected Artist: ",s.a.createElement("strong",null,T.name))});case O.SELECT_ALBUM:var A=t.payload.album;return Object(d.a)({},e,Z,{searchedText:s.a.createElement("span",null,"Selected Album: ",s.a.createElement("strong",null,A.name))});case O.SELECT_PUBLIC_PLAYLIST:var h=t.payload.playlist;return Object(d.a)({},e,Z,{searchedText:s.a.createElement("span",null,"Selected Playlist: ",s.a.createElement("strong",null,h.name))});case O.SELECT_TRACKS:var b=t.payload.tracks,_=l.a.map(b,function(e){var t=e.id,a=e.uri,r=e.name,s=e.artists,n=e.album,c=e.track_number;return{id:t,name:r,uri:a,artist:l.a.size(s)>0?s[0].name:null,album:n?n.name:null,trackNumber:c}});return Object(d.a)({},e,{tracks:e.tracks.concat(_)});case O.LOADED_TRACK_AUDIO_FEATURES:var v=t.payload.audioFeatures;return Object(d.a)({},e,{audioFeatures:Object(d.a)({},e.audioFeatures,l.a.keyBy(v,"id"))});case O.TOGGLE_IS_ACTIVE:var R=t.payload.id;return Object(d.a)({},e,{parameters:Object(d.a)({},e.parameters,Object(F.a)({},R,Object(d.a)({},e.parameters[R],{active:!e.parameters[R].active}))),parametersAreDirty:!0});case O.SET_REFERENCE_VALUE:var g=t.payload,C=g.id,k=g.value;return Object(d.a)({},e,{parameters:Object(d.a)({},e.parameters,Object(F.a)({},C,Object(d.a)({},e.parameters[C],{value:k}))),parametersAreDirty:!0});case O.START_PROCESSING:return Object(d.a)({},e,{isProcessing:!0});case O.FINISHED_PROCESSING:return Object(d.a)({},e,{isProcessing:!1});case O.ADD_TRACKS_TO_PLAYLIST_SUCCESS:var L=t.payload,P=L.playlistId,U=L.trackUris,I=l.a.find(e.currentUserPlaylists,{id:P});return B.a.success("Successfully added ".concat(l.a.size(U)," track").concat(q(U)," to ").concat(I?"'".concat(I.name,"'"):"the selected playlist",".")),e;default:return e.accessToken&&e.spotifyApi.setAccessToken(e.accessToken),e}}}),ee=a(114),te=function(e){var t=e.dispatch,a=e.getState;return function(e){return function(){var r=Object(T.a)(E.a.mark(function r(s){var n,c,i,o,u,p,y,f,m,S,A,h,b,_,v,R,g,C,k,L,P;return E.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:e(s),r.t0=s.type,r.next=r.t0===O.SELECT_ARTIST?4:r.t0===O.LOAD_ARTIST_ALBUMS?7:r.t0===O.SELECT_ALBUM?12:r.t0===O.LOAD_ALBUM?12:r.t0===O.LOAD_ALBUM_TRACKS?15:r.t0===O.SELECT_TRACKS?20:r.t0===O.SELECT_PUBLIC_PLAYLIST?25:r.t0===O.LOAD_PLAYLIST_TRACKS?28:33;break;case 4:return n=s.payload.artist,t({type:O.LOAD_ARTIST_ALBUMS,payload:{artist:n,page:0}}),r.abrupt("return");case 7:return c=s.payload,i=c.artist,o=c.page,u=a(),(p=u.spotify).queue.add(function(){return new Promise(function(){var e=Object(T.a)(E.a.mark(function e(a){var r,s;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.spotifyApi.getArtistAlbums(i.id,{include_groups:"album",limit:50,offset:50*o});case 3:return r=e.sent,s=r.items,r.next&&t({type:O.LOAD_ARTIST_ALBUMS,payload:{artist:i,page:o+1}}),l.a.each(s,function(e){t({type:O.LOAD_ALBUM,payload:{album:e}})}),e.abrupt("return",a(r));case 10:e.prev=10,e.t0=e.catch(0),t({type:O.UNAUTHORIZED});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}())}),r.abrupt("return");case 12:return y=s.payload.album,t({type:O.LOAD_ALBUM_TRACKS,payload:{album:y,page:0}}),r.abrupt("return");case 15:return f=s.payload,m=f.album,S=f.page,A=a(),(h=A.spotify).queue.add(function(){return new Promise(function(){var e=Object(T.a)(E.a.mark(function e(a){var r,s,n,c;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.spotifyApi.getAlbumTracks(m.id,{limit:50,offset:50*S});case 3:return r=e.sent,s=r.items,n=r.next,c=l.a.map(s,function(e){return Object(d.a)({},e,{album:m})}),n&&t({type:O.LOAD_ALBUM_TRACKS,payload:{album:m,page:S+1}}),t({type:O.SELECT_TRACKS,payload:{tracks:c}}),e.abrupt("return",a(r));case 11:e.prev=11,e.t0=e.catch(0),t({type:O.UNAUTHORIZED});case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}())}),r.abrupt("return");case 20:return b=s.payload.tracks,_=a(),(v=_.spotify).queue.add(function(){return new Promise(function(){var e=Object(T.a)(E.a.mark(function e(a){var r,s;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.spotifyApi.getAudioFeaturesForTracks(l.a.map(b,"id"));case 3:return r=e.sent,s=r.audio_features,t({type:O.LOADED_TRACK_AUDIO_FEATURES,payload:{audioFeatures:s}}),e.abrupt("return",a(s));case 9:e.prev=9,e.t0=e.catch(0),t({type:O.UNAUTHORIZED});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}())}),r.abrupt("return");case 25:return R=s.payload.playlist,t({type:O.LOAD_PLAYLIST_TRACKS,payload:{playlist:R,page:0}}),r.abrupt("return");case 28:return g=s.payload,C=g.playlist,k=g.page,L=a(),(P=L.spotify).queue.add(function(){return new Promise(function(){var e=Object(T.a)(E.a.mark(function e(a,r){var s,n,c,i;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.spotifyApi.getPlaylistTracks(C.id,{limit:50,offset:50*k});case 3:return s=e.sent,n=s.items,c=s.next,i=l.a.map(n,function(e){return Object(d.a)({},e.track,{playlist:C})}),c&&t({type:O.LOAD_PLAYLIST_TRACKS,payload:{playlist:C,page:k+1}}),t({type:O.SELECT_TRACKS,payload:{tracks:i}}),e.abrupt("return",a(s));case 11:e.prev=11,e.t0=e.catch(0),t({type:O.UNAUTHORIZED});case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,a){return e.apply(this,arguments)}}())}),r.abrupt("break",34);case 33:return r.abrupt("return");case 34:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()}},ae=l.a.debounce(function(e){re=!1,e({type:O.FINISHED_PROCESSING})},2500),re=!1;var se=function(e){var t=e.dispatch;return function(e){return function(){var a=Object(T.a)(E.a.mark(function a(r){return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:a.t0=r.type,a.next=a.t0===O.SELECT_ARTIST?3:a.t0===O.LOAD_ARTIST_ALBUMS?3:a.t0===O.LOAD_ALBUM?3:a.t0===O.LOAD_ALBUM_TRACKS?3:a.t0===O.LOADED_TRACK_AUDIO_FEATURES?3:a.t0===O.SELECT_TRACKS?3:6;break;case 3:return re||(re=!0,t({type:O.START_PROCESSING})),ae(t),a.abrupt("break",7);case 6:return a.abrupt("break",7);case 7:e(r);case 8:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}},ne=function(){return function(e){return function(t){if(t.type!==O.UNAUTHORIZED&&401!==l.a.get(t.payload,"statusCode"))return e(t);window.location.href=window.location.origin}}},ce=function(){return function(e){return function(){var t=Object(T.a)(E.a.mark(function t(a){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e(a),l.a.endsWith(a.type,"Failure")&&a.payload.message&&(B.a.clear(),B.a.error(a.payload.message,void 0,{timeOut:3e4,extendedTimeOut:6e4}));case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},ie=Object(u.applyMiddleware)(ne,se,te,ee.a,ce),le=a(25),oe=a(26),ue=a(28),pe=a(27),de=a(29),ye=a(42),fe={SpotifyClientId:"99f43a6aef114c17bf91c49dfb8469e5",CallbackUri:!l.a.includes(window.location.host,"localhost")?"https://slrspotify.z14.web.core.windows.net":"http://localhost:3000",Scopes:["user-read-playback-state","playlist-modify-private","user-modify-playback-state","playlist-read-private"].join(" ")},me=a(219),Se=a(220),Ee=a(48),Te=function(e){function t(){var e,a;Object(le.a)(this,t);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(a=Object(ue.a)(this,(e=Object(pe.a)(t)).call.apply(e,[this].concat(s)))).redirectToLogin=function(){window.location.href="https://accounts.spotify.com/authorize?client_id=".concat(fe.SpotifyClientId,"&redirect_uri=").concat(encodeURI(fe.CallbackUri),"&response_type=token&scope=").concat(fe.Scopes)},a}return Object(de.a)(t,e),Object(oe.a)(t,[{key:"render",value:function(){return s.a.createElement(me.a,{fluid:!0},s.a.createElement(Se.a,null,s.a.createElement(Ee.a,{xl:"12"},s.a.createElement("div",{className:"login-container"},s.a.createElement("button",{className:"btn btn-primary btn-lg",onClick:this.redirectToLogin},"Log in to Spotify")))))}}]),t}(s.a.PureComponent),Ae=function(){return s.a.createElement(me.a,{fluid:!0},s.a.createElement(Se.a,null,s.a.createElement(Ee.a,{xl:"12"},s.a.createElement("h1",{className:"text-center"},s.a.createElement("i",{className:"fa fa-spin fa-refresh"})," Loading Current User"))))},he=a(66),be=a(6),_e=a.n(be),ve=a(123),Re=a(120),ge=a.n(Re),Ce=a(231),ke=a(221),Le=a(222),Oe=function(e){function t(){var e,a;Object(le.a)(this,t);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(a=Object(ue.a)(this,(e=Object(pe.a)(t)).call.apply(e,[this].concat(s)))).toggleIsActive=function(){var e=a.props.id;a.props.toggleIsActive(e)},a.setReferenceValue=function(e){var t=a.props.id;a.props.setReferenceValue(t,e)},a}return Object(de.a)(t,e),Object(oe.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.value,r=e.label,n=e.step,c=e.min,i=e.max,l=(e.setReferenceValue,e.active),o=(e.toggleIsActive,e.description),u=Object(he.a)(e,["id","value","label","step","min","max","setReferenceValue","active","toggleIsActive","description"]);return s.a.createElement("div",Object.assign({className:"row",onDoubleClick:this.toggleIsActive},u),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"float-left"},s.a.createElement("label",{className:_e()({"inactive-feature-slider-label":!l})},r," ",s.a.createElement("i",{id:"feature-tooltip-".concat(t),className:"fa fa-info-circle"})),s.a.createElement(Ce.a,{placement:"right",target:"feature-tooltip-".concat(t),trigger:"legacy"},s.a.createElement(ke.a,null,r),s.a.createElement(Le.a,null,o))),s.a.createElement("div",{className:"float-right"},s.a.createElement(ge.a,{checked:l,name:"burritoIsReady",value:"yes",onChange:this.toggleIsActive}))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement(ve.a,{value:a,disabled:!l,onChange:this.setReferenceValue,step:n,max:i,min:c})))}}]),t}(s.a.PureComponent),Pe={resetFeaturesToReferenceSong:I.resetFeaturesToReferenceSong,setReferenceValue:I.setReferenceValue,toggleIsActive:I.toggleIsActive},Ue=Object(o.b)(function(e){var t=e.spotify;return{parameters:t.parameters,parametersAreDirty:t.parametersAreDirty,selectedTrack:t.selectedTrack}},Pe)(function(e){var t=e.parameters,a=e.toggleIsActive,r=e.setReferenceValue;return s.a.createElement("div",{className:"features",style:{flex:1,flexGrow:1,overflowX:"hidden",overflowY:"auto",paddingLeft:30,paddingRight:30}},l.a.map(t,function(e,t){return s.a.createElement("div",{key:t,className:"feature-slider"},s.a.createElement(Oe,Object.assign({id:t},e,{style:{marginBottom:7},toggleIsActive:a,setReferenceValue:r})))}))}),Ie=a(55),we=a(228),Fe=a(64),je=a(223),Ne=a(224),xe=a(233),De=a(225),qe=a(226),He=a(227),Be={Artist:1,Album:2,PublicPlaylist:3},Me=[{label:"Artists",value:Be.Artist},{label:"Albums",value:Be.Album},{label:"Public Playlists",value:Be.PublicPlaylist}],Ye=l.a.keyBy(Me,"value"),Ge=Be,Ke=function(e){var t=e.query,a=e.setQuery,n=e.queryType,c=e.setQueryType,i=Object(r.useState)(!1),o=Object(Ie.a)(i,2),u=o[0],p=o[1],d=Ye[n].label;return s.a.createElement(je.a,{size:"lg"},s.a.createElement(Ne.a,{id:"txt-artist-search",bsSize:"lg",placeholder:"Search for ".concat(d,"..."),value:t,onChange:function(e){return a(e.target.value)}}),s.a.createElement(xe.a,{addonType:"append",isOpen:u,toggle:function(){return p(!u)}},s.a.createElement(De.a,{caret:!0},d),s.a.createElement(qe.a,null,l.a.map(Me,function(e){var t=e.label,a=e.value;return s.a.createElement(He.a,{key:a,onClick:function(){return c(a)}},t)}))))},Qe=Object(o.b)(function(e){return{searchedText:e.spotify.searchedText}})(function(e){var t=e.searchedText,a=e.submitArtistSearch,n=Object(r.useState)(""),c=Object(Ie.a)(n,2),i=c[0],l=c[1],o=Object(r.useState)(Ge.Artist),u=Object(Ie.a)(o,2),p=u[0],d=u[1],y=Ye[p].label;return s.a.createElement(we.a,{onSubmit:function(e){return a(e,i,p)}},s.a.createElement(Ke,{query:i,queryType:p,setQuery:l,setQueryType:d}),s.a.createElement("div",{style:{display:"flex",alignItems:"center",marginTop:7}},s.a.createElement("div",{className:"float-left",style:{flex:1}},t&&s.a.createElement("span",{style:{margin:0}},t)),s.a.createElement("div",{className:"float-right"},s.a.createElement(Fe.a,{color:"secondary",type:"submit"},"Search for ",y,"..."))))}),ze=a(124),Ve=a(125),Xe=function(e){var t=e.loading,a=e.loadingText;return t?s.a.createElement("div",{className:"-loading -active"},s.a.createElement("div",{className:"-loading-inner"},s.a.createElement("h2",null,s.a.createElement("i",{className:"fa fa-spin fa-cog"})," ",a))):null},Ze=function(e){var t=e.onRef,a=Object(he.a)(e,["onRef"]),r=Object(d.a)({className:"-striped -hover",minRows:0,showPageJump:!1,showPageSizeOptions:!1,LoadingComponent:Xe,pageSize:10},a);return s.a.createElement(Ve.a,Object.assign({ref:t},r))},We=a(122),Je=a.n(We),$e=function(e){function t(){var e,a;Object(le.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(ue.a)(this,(e=Object(pe.a)(t)).call.apply(e,[this].concat(n)))).renderCheckbox=function(e){var t=e.original,r=a.props.selectedTracks,n=t.id,c=l.a.has(r,n);return s.a.createElement("input",{type:"checkbox",checked:c,readOnly:!0})},a.renderPlayButton=function(e){var t=e.original.uri;return s.a.createElement("button",{className:"btn btn-link",onClick:function(e){e.preventDefault(),e.stopPropagation(),a.props.startPlayingTrack(t)}},s.a.createElement("i",{className:"fa fa-play"}))},a}return Object(de.a)(t,e),Object(oe.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.tracks,r=t.selectedTracks,n=t.isLoading,c=t.allTracksAreSelected,i={className:"-striped -hover",data:a,loading:n,columns:[{Header:function(){return s.a.createElement(Je.a,{checked:c,indeterminate:!c&&l.a.size(r)>0,onChange:e.props.globalCheckboxSelected})},id:"checked",Cell:this.renderCheckbox,width:30,className:"text-center",filterable:!1,sortable:!1,resizable:!1},{Header:"",id:"play",Cell:this.renderPlayButton,width:35,className:"text-center",filterable:!1},{Header:"Score",accessor:"score",width:75},{Header:"Name",accessor:"name"},{Header:"Album",accessor:"album",width:360},{Header:"Track #",accessor:"trackNumber",width:75}],getTrProps:function(t,a){var s=a.original.id,n=l.a.has(r,s);return{onClick:function(){e.props.setIsSelected(s,n)}}},defaultSorted:[{id:"score"}]};return s.a.createElement("div",{className:"bg-white"},s.a.createElement(Ze,Object.assign({tableId:"track-analysis"},i)))}}]),t}(s.a.PureComponent),et=Object(o.b)(function(e){return{audioFeatures:e.spotify.audioFeatures}},{})($e),tt=a(65),at=a(232),rt=a(229),st=a(230),nt=Object(tt.withSizes)(function(e){return{isMobile:e.width<992}})(function(e){var t=e.artists,a=e.isLoading,r=e.isMobile,n=e.onSelect,c={className:"-striped -hover",data:t,loading:a,columns:[{Header:"",id:"select",width:115,Cell:function(e){var t=e.original;return s.a.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){return n(t)}},"Select Artist")}},{Header:"Name",accessor:"name"},{Header:"Popularity",accessor:"popularity",show:!r},{Header:"Followers",id:"followers",accessor:function(e){var t=e.followers;return t?t.total:null},show:!r}]};return s.a.createElement("div",{style:{padding:10}},s.a.createElement("div",{className:"clearfix"},s.a.createElement("div",{className:"float-left"},s.a.createElement("label",null,"Loaded ",l.a.size(t)," Artist",q(t)))),s.a.createElement("div",{className:"bg-white"},s.a.createElement(Ze,Object.assign({tableId:"artist-results"},c))))}),ct=s.a.memo(Object(o.b)(function(e){return{artists:e.spotify.searchedArtists}})(function(e){var t=e.show,a=e.artists;return s.a.createElement(at.a,{isOpen:t,toggle:e.hide,className:e.className,size:"lg"},s.a.createElement(rt.a,{toggle:e.hide},"Search for an Artist"),s.a.createElement(st.a,null,s.a.createElement(Se.a,{style:{marginTop:7,overflowX:"auto"}},s.a.createElement(Ee.a,{md:"12"},s.a.createElement(nt,{artists:a,onSelect:e.selectArtist})))))})),it=function(e){var t=e.albums,a=e.isLoading,r=e.onSelect,n={className:"-striped -hover",data:t,loading:a,columns:[{Header:"",id:"select",width:115,Cell:function(e){var t=e.original;return s.a.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){return r(t)}},"Select Album")}},{Header:"Album",accessor:"name"},{Header:"Artist",id:"artist",accessor:function(e){var t=e.artist;return t?t.name:null}},{Header:"Release Date",accessor:"releaseDate"},{Header:"# Tracks",accessor:"totalTracks"}]};return s.a.createElement("div",{style:{padding:10}},s.a.createElement("div",{className:"clearfix"},s.a.createElement("div",{className:"float-left"},s.a.createElement("label",null,"Loaded ",l.a.size(t)," Album",q(t)))),s.a.createElement("div",{className:"bg-white"},s.a.createElement(Ze,Object.assign({tableId:"album-search-results"},n))))},lt=Object(o.b)(function(e){var t=e.spotify,a=e.loading;return{searchedAlbums:t.searchedAlbums,isLoadingAlbums:a.isLoadingAlbums}})(function(e){var t=e.show,a=e.searchedAlbums,r=e.isLoadingAlbums;return s.a.createElement(at.a,{isOpen:t,toggle:e.hide,className:e.className,size:"lg"},s.a.createElement(rt.a,{toggle:e.hide},"Search for an Album"),s.a.createElement(st.a,null,s.a.createElement(Se.a,{style:{marginTop:7,overflowX:"auto"}},s.a.createElement(Ee.a,{md:"12"},s.a.createElement(it,{albums:a,isLoading:r,onSelect:e.selectAlbum})))))}),ot=function(e){var t=e.playlists,a=e.isLoading,r=e.onSelect,n={className:"-striped -hover",data:t,loading:a,columns:[{Header:"",id:"select",width:125,Cell:function(e){var t=e.original;return s.a.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){return r(t)}},"Select Playlist")}},{Header:"Playlist Name",accessor:"name"},{Header:"Owner",id:"owner",accessor:function(e){var t=e.owner;return t?t.display_name:null}},{Header:"# Tracks",accessor:"totalTracks"}]};return s.a.createElement("div",{style:{padding:10}},s.a.createElement("div",{className:"clearfix"},s.a.createElement("div",{className:"float-left"},s.a.createElement("label",null,"Loaded ",l.a.size(t)," Playlist",q(t)))),s.a.createElement("div",{className:"bg-white"},s.a.createElement(Ze,Object.assign({tableId:"public-playlist-search"},n))))},ut=s.a.memo(Object(o.b)(function(e){var t=e.spotify,a=e.loading;return{searchedPlaylists:t.searchedPlaylists,isLoadingPublicPlaylists:a.isLoadingPublicPlaylists}})(function(e){var t=e.show,a=e.searchedPlaylists,r=e.isLoadingPublicPlaylists;return s.a.createElement(at.a,{isOpen:t,toggle:e.hide,className:e.className,size:"lg"},s.a.createElement(rt.a,{toggle:e.hide},"Search for a Public Playlist"),s.a.createElement(st.a,null,s.a.createElement(Se.a,{style:{marginTop:7,overflowX:"auto"}},s.a.createElement(Ee.a,{md:"12"},s.a.createElement(ot,{playlists:a,isLoading:r,onSelect:e.selectPublicPlaylist})))))})),pt=s.a.memo(function(e){var t=e.show;return s.a.createElement(at.a,{isOpen:t,toggle:e.hide,className:e.className},s.a.createElement(rt.a,{toggle:e.hide},"Features"),s.a.createElement(st.a,null,s.a.createElement(Ue,null)))},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show";return function(t,a){return!1!==t[e]||!1!==a[e]}}()),dt=function(e){function t(e){var a;return Object(le.a)(this,t),(a=Object(ue.a)(this,Object(pe.a)(t).call(this,e))).submitSearch=function(e,t,r){e.preventDefault(),a.showSearchModal(t,r)},a.showFeatureModal=function(){a.setState({isShowingFeatureModal:!0})},a.hideFeatureModal=function(){a.setState({isShowingFeatureModal:!1})},a.showSearchModal=function(e,t){if(l.a.trim(e)){switch(t){case Ge.Artist:a.props.searchForArtists(e);break;case Ge.Album:a.props.searchForAlbums(e);break;case Ge.PublicPlaylist:a.props.searchForPublicPlaylists(e)}a.setState({query:e,queryType:t})}},a.hideSearchModal=function(){a.setState({queryType:null})},a.selectArtist=function(e){a.hideSearchModal(),a.props.selectArtist(e)},a.selectAlbum=function(e){a.hideSearchModal(),a.props.selectAlbum(e)},a.selectPublicPlaylist=function(e){a.hideSearchModal(),a.props.selectPublicPlaylist(e)},a.addTracksToPlaylist=function(){var e=a.props,t=e.selectedPlaylist,r=e.selectedTracks,s=e.tracks,n=l.a.filter(s,function(e){var t=e.id;return l.a.has(r,t)});a.props.addTracksToPlaylist(t.id,l.a.map(n,"uri"))},a.state={selectSongModalShowing:!1,selectArtistModalShowing:!1,isShowingFeatureModal:!1,query:"",queryType:null},a}return Object(de.a)(t,e),Object(oe.a)(t,[{key:"render",value:function(){var e=this.state,t=e.query,a=e.queryType,r=e.isShowingFeatureModal,n=this.props,c=n.tracks,i=n.currentUserPlaylists,o=n.selectedTracks,u=n.selectedPlaylist,p=n.allTracksAreSelected,y=n.isProcessing,f=0===l.a.size(c);return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{style:{width:"100vw",height:"100vh",display:"flex",flexDirection:"row-reverse"}},s.a.createElement("div",{className:"features-sidebar features-sidebar-step bg-white",style:{flex:3,overflowY:"auto",paddingTop:10,paddingBottom:10}},s.a.createElement(Ue,null)),s.a.createElement("div",{style:{flex:10,display:"flex",flexDirection:"column",maxWidth:"100%"}},s.a.createElement("div",{className:"header bg-gradient-primary"},s.a.createElement(Qe,{submitArtistSearch:this.submitSearch})),s.a.createElement("div",{className:"results-step",style:{display:"flex",flex:1,overflowY:"auto",flexDirection:"column",justifyContent:f?"center":void 0}},s.a.createElement(ye.If,{condition:f},s.a.createElement("h2",{className:"text-center",style:{padding:10}},"Search for songs using the form above...")),s.a.createElement(ye.If,{condition:!f},s.a.createElement("div",{style:{padding:10}},s.a.createElement("div",{className:"table-header-row",style:{marginBottom:10}},s.a.createElement("div",{className:"float-left"},s.a.createElement(ze.a,{className:"playlist-select",placeholder:"Select a Playlist...",onChange:this.props.selectCurrentUserPlaylist,onCreateOption:this.props.createNewPlaylist,value:u,options:i,styles:{menu:function(e){return Object(d.a)({},e,{zIndex:11})}},formatCreateLabel:function(e){return"Create Playlist: '".concat(e,"'")},classNamePrefix:"react-select"})),s.a.createElement("div",{className:"float-left"},s.a.createElement(Fe.a,{color:"secondary",disabled:l.a.isEmpty(o)||!u,size:"sm",onClick:this.addTracksToPlaylist},"Add to Playlist (",l.a.size(o),")")),s.a.createElement("div",{className:"fill"},s.a.createElement("div",{className:"float-right"},s.a.createElement("label",null,"Loaded ",l.a.size(c)," Track",q(c))))),s.a.createElement(et,{tracks:c,isLoading:y,allTracksAreSelected:p,selectedTracks:o,setIsSelected:this.props.toggleTrackSelected,globalCheckboxSelected:this.props.globalCheckboxSelected,startPlayingTrack:this.props.startPlayingTrack})))),s.a.createElement("div",{className:"info-footer"},"Quasitracks uses the outstanding ",s.a.createElement("a",{href:"https://developer.spotify.com/documentation/web-api/",rel:"noopener"},"Spotify API"),". We are in no way affiliated with Spotify."))),s.a.createElement(ct,{show:!!t&&a===Ge.Artist,searchQuery:t,selectArtist:this.selectArtist,hide:this.hideSearchModal}),s.a.createElement(lt,{show:!!t&&a===Ge.Album,searchQuery:t,selectAlbum:this.selectAlbum,hide:this.hideSearchModal}),s.a.createElement(ut,{show:!!t&&a===Ge.PublicPlaylist,searchQuery:t,selectPublicPlaylist:this.selectPublicPlaylist,hide:this.hideSearchModal}),s.a.createElement(pt,{show:r,hide:this.hideFeatureModal}))}}]),t}(s.a.PureComponent),yt={setAccessToken:f.setAccessToken,getCurrentUser:I.getCurrentUser,setReferenceValue:I.setReferenceValue,resetFeaturesToReferenceSong:I.resetFeaturesToReferenceSong,toggleTrackSelected:I.toggleTrackSelected,globalCheckboxSelected:I.globalCheckboxSelected,selectArtist:I.selectArtist,selectAlbum:I.selectAlbum,selectPublicPlaylist:I.selectPublicPlaylist,searchForArtists:I.searchForArtists,searchForAlbums:I.searchForAlbums,searchForPublicPlaylists:I.searchForPublicPlaylists,selectCurrentUserPlaylist:I.selectCurrentUserPlaylist,createNewPlaylist:I.createNewPlaylist,startProcessing:I.startProcessing,startPlayingTrack:I.startPlayingTrack,getCurrentUsersPlaylists:I.getCurrentUsersPlaylists,addTracksToPlaylist:I.addTracksToPlaylist},ft=Object(tt.withSizes)(function(e){return{isMobile:e.width<992}})(Object(o.b)(function(e){var t=e.spotify;return{isProcessing:t.isProcessing,currentUserPlaylists:t.currentUserPlaylists,selectedPlaylist:t.selectedPlaylist,selectedTracks:t.selectedTracks,tracks:C(e),allTracksAreSelected:k(e)}},yt)(dt)),mt=function(e){function t(){return Object(le.a)(this,t),Object(ue.a)(this,Object(pe.a)(t).apply(this,arguments))}return Object(de.a)(t,e),Object(oe.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){!e.currentUserIsLoaded&&this.props.currentUserIsLoaded&&this.props.getCurrentUsersPlaylists()}},{key:"render",value:function(){var e=this.props,t=e.userIsLoggedIn,a=e.currentUserIsLoaded;return s.a.createElement("div",{className:"main-content",ref:"mainContent"},s.a.createElement(ye.If,{condition:!t},s.a.createElement(Te,null)),s.a.createElement(ye.If,{condition:t&&!a},s.a.createElement(Ae,null)),s.a.createElement(ye.If,{condition:t&&a},s.a.createElement(ft,null)))}},{key:"componentDidMount",value:function(){var e=t.getQueryVariable(window.location.hash.substring(1),"access_token");e&&(this.props.setAccessToken(e),this.props.getCurrentUser())}}],[{key:"getQueryVariable",value:function(e,t){for(var a=e.split("&"),r=0;r<a.length;r++){var s=a[r].split("=");if(decodeURIComponent(s[0])===t)return decodeURIComponent(s[1])}return null}}]),t}(s.a.PureComponent),St={setAccessToken:f.setAccessToken,getCurrentUser:I.getCurrentUser,getCurrentUsersPlaylists:I.getCurrentUsersPlaylists},Et=Object(o.b)(function(e){var t=e.auth,a=e.spotify;return{userIsLoggedIn:!!t.accessToken,currentUserIsLoaded:!!a.currentUser}},St)(mt),Tt=Object(u.createStore)($,l.a.includes(window.location.host,"localhost")?Object(p.composeWithDevTools)(ie):ie);c.a.render(s.a.createElement(o.a,{store:Tt},s.a.createElement(Et,null)),document.getElementById("root"))}},[[126,1,2]]]);
//# sourceMappingURL=main.6c08c0ea.chunk.js.map